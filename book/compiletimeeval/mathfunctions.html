<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Math functions - Modern C++ Explained</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../section-lines.css">
        <link rel="stylesheet" href="../version-commit.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Preface</a></li><li class="chapter-item expanded affix "><li class="part-title">Modern C++ Elements</li><li class="chapter-item expanded "><a href="../primitive/index.html">Fundamental Data Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../primitive/IntTypes.html">Integer Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../primitive/IntTypes_longlong.html">Integer Type long long</a></li></ol></li><li class="chapter-item expanded "><a href="../primitive/CharTypes.html">Character Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../primitive/CharTypes_CharSetsEncodings.html">Character Sets and Encodings</a></li><li class="chapter-item expanded "><a href="../primitive/CharTypes_NewCharTypes.html">New Character Types</a></li><li class="chapter-item expanded "><a href="../primitive/CharTypes_StringLiteralCat.html">Automatic String Literal Concatenation</a></li><li class="chapter-item expanded "><a href="../primitive/CharTypes_LibrarySuppor.html">Library Support</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../namespace/index.html">Namespace</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../namespace/InlineNamespace.html">Inline Namespace</a></li><li class="chapter-item expanded "><a href="../namespace/NewNestedNamespaceSyntax.html">New Nested Namespace Syntax</a></li><li class="chapter-item expanded "><a href="../namespace/UnnamedNamespace.html">Unnamed Namespace</a></li><li class="chapter-item expanded "><a href="../namespace/MergedNamespace.html">Merged Namespace</a></li><li class="chapter-item expanded "><a href="../namespace/GlobalNamespace.html">Global Namespace</a></li></ol></li><li class="chapter-item expanded "><a href="../compiletimeeval/index.html">Compile Time Evaluation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../compiletimeeval/Constexpr.html">constexpr</a></li><li class="chapter-item expanded "><a href="../compiletimeeval/numericlimit.html">std::numeric_limits</a></li><li class="chapter-item expanded "><a href="../compiletimeeval/mathfunctions.html" class="active">Math functions</a></li><li class="chapter-item expanded "><a href="../compiletimeeval/Lambdas.html">Lambdas</a></li><li class="chapter-item expanded "><a href="../compiletimeeval/InliningConstexpr.html">Inlining constexpr</a></li><li class="chapter-item expanded "><a href="../compiletimeeval/ConditionalCompilation.html">Conditional Compilation </a></li><li class="chapter-item expanded "><a href="../compiletimeeval/VirtualFunctions.html">Virtual Functions</a></li><li class="chapter-item expanded "><a href="../compiletimeeval/TryCatch.html">try-catch </a></li><li class="chapter-item expanded "><a href="../compiletimeeval/DefaultInit.html">Default Initialization of constexpr Object</a></li><li class="chapter-item expanded "><a href="../compiletimeeval/ConstEvalAndConstInit.html">consteval and constinit</a></li><li class="chapter-item expanded "><a href="../compiletimeeval/StdIsConstant.html">std::is_constant_evaluated</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Meta-template Programming</li><li class="chapter-item expanded affix "><li class="part-title">Algorithms</li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Modern C++ Explained</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/wxinix/cpp-explained" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="c20-constexpr-math-functions"><a class="header" href="#c20-constexpr-math-functions">C++20 <code>constexpr</code> math functions</a></h1>
<p>In C++20, many math functions from the <code>&lt;cmath&gt;</code> library were made <code>constexpr</code>. This enables complex mathematical operations at compile time, which can lead to more efficient and optimized code.</p>
<p>The main advantage of using <code>constexpr</code> math functions is that they enable calculations at compile time rather than at runtime. This can lead to performance improvements because the compiler can optimize the code based on the known constant values. Additionally, because the values are known at compile time, they can be used in places where a constant expression is needed, such as in array sizes and template arguments.</p>
<p>Here are some important points to remember about <code>constexpr</code> math functions:</p>
<ol>
<li>
<p>Only a subset of math functions from the <code>&lt;cmath&gt;</code> library are <code>constexpr</code> in C++20. Other functions may still be evaluated at runtime.</p>
</li>
<li>
<p>The arguments provided to a <code>constexpr</code> function must be constant expressions themselves. Otherwise, the function call will not be evaluated at compile time.</p>
</li>
<li>
<p><code>constexpr</code> math functions are subject to the same floating-point rounding and accuracy limitations as their runtime counterparts. In other words, you should be aware of potential floating-point inaccuracies when using <code>constexpr</code> functions in calculations.</p>
</li>
<li>
<p>Some compilers may not yet fully support C++20 or all of its <code>constexpr</code> math functions. Be sure to check the documentation of the compiler being used to ensure that it supports the specific functions.</p>
</li>
</ol>
<p>Here is a list of selected math functions that became <code>constexpr</code> in C++20. Note that this list is not exhaustive, but it covers some of the most commonly used functions. Once again, these functions became <code>constexpr</code> in C++20, not C++17.</p>
<p>Here's the table sorted by function name in ascending order:</p>
<div class="table-wrapper"><table><thead><tr><th>Function</th><th>Description</th><th>Since</th></tr></thead><tbody>
<tr><td><code>abs</code></td><td>Absolute value</td><td>C++20</td></tr>
<tr><td><code>acos</code></td><td>Arc cosine function</td><td>C++20</td></tr>
<tr><td><code>acosh</code></td><td>Inverse hyperbolic cosine function</td><td>C++20</td></tr>
<tr><td><code>asin</code></td><td>Arc sine function</td><td>C++20</td></tr>
<tr><td><code>asinh</code></td><td>Inverse hyperbolic sine function</td><td>C++20</td></tr>
<tr><td><code>atan</code></td><td>Arc tangent function</td><td>C++20</td></tr>
<tr><td><code>atan2</code></td><td>Arc tangent function with two parameters</td><td>C++20</td></tr>
<tr><td><code>atanh</code></td><td>Inverse hyperbolic tangent function</td><td>C++20</td></tr>
<tr><td><code>cbrt</code></td><td>Cube root</td><td>C++20</td></tr>
<tr><td><code>ceil</code></td><td>Ceiling function</td><td>C++20</td></tr>
<tr><td><code>copysign</code></td><td>Copy sign of a number</td><td>C++20</td></tr>
<tr><td><code>cos</code></td><td>Cosine function</td><td>C++20</td></tr>
<tr><td><code>cosh</code></td><td>Hyperbolic cosine function</td><td>C++20</td></tr>
<tr><td><code>div</code></td><td>Integral division</td><td>C++20</td></tr>
<tr><td><code>drem</code></td><td>Deprecated; use remainder instead</td><td>C++20</td></tr>
<tr><td><code>erf</code></td><td>Error function</td><td>C++20</td></tr>
<tr><td><code>erfc</code></td><td>Complementary error function</td><td>C++20</td></tr>
<tr><td><code>exp</code></td><td>Exponential function</td><td>C++20</td></tr>
<tr><td><code>exp2</code></td><td>Base-2 exponential function</td><td>C++20</td></tr>
<tr><td><code>expm1</code></td><td>Exponential function minus 1</td><td>C++20</td></tr>
<tr><td><code>fdim</code></td><td>Positive difference</td><td>C++20</td></tr>
<tr><td><code>floor</code></td><td>Floor function</td><td>C++20</td></tr>
<tr><td><code>fma</code></td><td>Fused multiply-add</td><td>C++20</td></tr>
<tr><td><code>fmax</code></td><td>Maximum of two floating-point values</td><td>C++20</td></tr>
<tr><td><code>fmin</code></td><td>Minimum of two floating-point values</td><td>C++20</td></tr>
<tr><td><code>fmod</code></td><td>Floating-point remainder (modulo)</td><td>C++20</td></tr>
<tr><td><code>frexp</code></td><td>Break floating-point number into fraction</td><td>C++20</td></tr>
<tr><td><code>gamma</code></td><td>Deprecated; use tgamma instead</td><td>C++20</td></tr>
<tr><td><code>gamma_r</code></td><td>Deprecated; use lgamma instead</td><td>C++20</td></tr>
<tr><td><code>hypot</code></td><td>Hypotenuse</td><td>C++20</td></tr>
<tr><td><code>ilogb</code></td><td>Integral logarithm of exponent base-2</td><td>C++20</td></tr>
<tr><td><code>j0</code></td><td>Bessel function of the first kind of order 0</td><td>C++20</td></tr>
<tr><td><code>j1</code></td><td>Bessel function of the first kind of order 1</td><td>C++20</td></tr>
<tr><td><code>jn</code></td><td>Bessel function of the first kind of order n</td><td>C++20</td></tr>
<tr><td><code>ldexp</code></td><td>Multiply by integral power of 2</td><td>C++20</td></tr>
<tr><td><code>lgamma</code></td><td>Natural logarithm of the absolute value of the gamma function</td><td>C++20</td></tr>
<tr><td><code>llrint</code></td><td>Round to long long integral value</td><td>C++20</td></tr>
<tr><td><code>llround</code></td><td>Round to nearest long long integer</td><td>C++20</td></tr>
<tr><td><code>log</code></td><td>Natural logarithm</td><td>C++20</td></tr>
<tr><td><code>log10</code></td><td>Base-10 logarithm</td><td>C++20</td></tr>
<tr><td><code>log1p</code></td><td>Natural logarithm of 1 plus argument</td><td>C++20</td></tr>
<tr><td><code>log2</code></td><td>Base-2 logarithm</td><td>C++20</td></tr>
<tr><td><code>logb</code></td><td>Base-2 logarithm of exponent</td><td>C++20</td></tr>
<tr><td><code>lrint</code></td><td>Round to long integral value</td><td>C++20</td></tr>
<tr><td><code>lround</code></td><td>Round to nearest long integer</td><td>C++20</td></tr>
<tr><td><code>max</code></td><td>Maximum of two values</td><td>C++20</td></tr>
<tr><td><code>min</code></td><td>Minimum of two values</td><td>C++20</td></tr>
<tr><td><code>modf</code></td><td>Decompose a floating-point number into its integer and fractional parts</td><td>C++20</td></tr>
<tr><td><code>nan</code></td><td>Generate quiet NaN</td><td>C++20</td></tr>
<tr><td><code>nearbyint</code></td><td>Round to integral value in current rounding mode</td><td>C++20</td></tr>
<tr><td><code>nextafter</code></td><td>Next representable floating-point value</td><td>C++20</td></tr>
<tr><td><code>nexttoward</code></td><td>Next representable floating-point value toward a long double</td><td>C++20</td></tr>
<tr><td><code>pow</code></td><td>Power function</td><td>C++20</td></tr>
<tr><td><code>remainder</code></td><td>Remainder of the floating-point division</td><td>C++20</td></tr>
<tr><td><code>remquo</code></td><td>Remainder and quotient of the floating-point division</td><td>C++20</td></tr>
<tr><td><code>rint</code></td><td>Round to integral value</td><td>C++20</td></tr>
<tr><td><code>round</code></td><td>Round to nearest integer</td><td>C++20</td></tr>
<tr><td><code>scalb</code></td><td>Deprecated; use scalbn or scalbln instead</td><td>C++20</td></tr>
<tr><td><code>scalbln</code></td><td>Scale floating-point number by a power of FLT_RADIX as a long integer</td><td>C++20</td></tr>
<tr><td><code>scalbn</code></td><td>Scale floating-point number by a power of FLT_RADIX</td><td>C++20</td></tr>
<tr><td><code>significand</code></td><td>Get the significand of a floating-point number</td><td>C++20</td></tr>
<tr><td><code>sin</code></td><td>Sine function</td><td>C++20</td></tr>
<tr><td><code>sinh</code></td><td>Hyperbolic sine function</td><td>C++20</td></tr>
<tr><td><code>sqrt</code></td><td>Square root</td><td>C++20</td></tr>
<tr><td><code>tan</code></td><td>Tangent function</td><td>C++20</td></tr>
<tr><td><code>tanh</code></td><td>Hyperbolic tangent function</td><td>C++20</td></tr>
<tr><td><code>tgamma</code></td><td>Gamma function</td><td>C++20</td></tr>
<tr><td><code>trunc</code></td><td>Truncate function</td><td>C++20</td></tr>
<tr><td><code>y0</code></td><td>Bessel function of the second kind of order 0</td><td>C++20</td></tr>
<tr><td><code>y1</code></td><td>Bessel function of the second kind of order 1</td><td>C++20</td></tr>
<tr><td><code>yn</code></td><td>Bessel function of the second kind of order n</td><td>C++20</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../compiletimeeval/numericlimit.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../compiletimeeval/Lambdas.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../compiletimeeval/numericlimit.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../compiletimeeval/Lambdas.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
